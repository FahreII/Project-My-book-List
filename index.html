<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Library - Firebase</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app" id="mainApp" style="display:none;">
        <header>
            My Library
            <button id="logoutBtn" onclick="logout()"
                style="float:right; font-size:12px; padding:4px 8px; border:none; border-radius:6px; background:#ef4444; color:white; cursor:pointer;">Logout</button>
        </header>
        <div class="filter">
            <button class="active" onclick="setFilter('all')">Semua</button>
            <button onclick="setFilter('reading')">Membaca</button>
            <button onclick="setFilter('finished')">Tamat</button>
        </div>
        <div class="grid" id="list"></div>
    </div>

    <button class="fab" onclick="openModal()" id="fab" style="display:none;">+</button>

    <!-- Modal Add/Edit -->
    <div class="modal" id="modal">
        <div class="sheet">
            <h2 id="formTitle">Tambah Buku</h2>
            <label>Judul</label><input id="judul">
            <label>Penulis</label><input id="penulis">
            <label>Jumlah Halaman</label><input type="number" id="halaman">
            <label>Cover (URL)</label><input id="cover">
            <label>Link Pembelian</label><input id="link">
            <label>Tanggal Mulai</label><input type="date" id="mulai">
            <label>Tanggal Selesai</label><input type="date" id="selesai">
            <label>Status</label>
            <select id="status">
                <option value="reading">Masih Membaca</option>
                <option value="finished">Sudah Tamat</option>
            </select>
            <label>Rating (1â€“10)</label><input type="number" min="1" max="10" id="rating">
            <label>Rangkuman</label><textarea id="rangkuman"></textarea>
            <button type="button" id="saveBtn" onclick="saveBook(this)">Simpan</button>
            <button type="button" class="close" onclick="closeModal()">Batal</button>
        </div>
    </div>

    <!-- Summary -->
    <div class="summary-sheet" id="summarySheet">
        <div class="summary-content">
            <h3 id="summaryTitle"></h3>
            <p id="summaryAuthor" style="color:#6b7280;font-size:13px"></p>
            <p id="summaryText" style="margin-top:12px;line-height:1.6"></p>
            <button class="close" onclick="closeSummary()">Tutup</button>
        </div>
    </div>

    <!-- Login -->
    <div class="login-sheet active" id="loginSheet">
        <div class="login-content">
            <h2>Login</h2>
            <label>Email</label><input type="email" id="loginEmail">
            <label>Password</label><input type="password" id="loginPassword">
            <button type="button" onclick="login()">Login</button>
            <button type="button" onclick="signup()">Buat Akun Baru</button>
        </div>
    </div>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

    <script src="app.js"></script>
</body>

</html>